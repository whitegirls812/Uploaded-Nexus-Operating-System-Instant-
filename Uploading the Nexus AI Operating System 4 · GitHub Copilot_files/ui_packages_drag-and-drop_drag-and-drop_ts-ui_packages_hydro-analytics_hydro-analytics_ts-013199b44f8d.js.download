"use strict";(globalThis.webpackChunk=globalThis.webpackChunk||[]).push([["ui_packages_drag-and-drop_drag-and-drop_ts-ui_packages_hydro-analytics_hydro-analytics_ts"],{5989:(e,t,r)=>{r.d(t,{Mp:()=>X.Mp,BS:()=>eS,Ux:()=>E,Hd:()=>X.Hd,vL:()=>X.vL,uN:()=>X.uN,cA:()=>X.cA,sH:()=>k,AN:()=>X.AN,gB:()=>Q.gB,IG:()=>X.IG,TT:()=>X.TT,Mk:()=>z.Mk,dU:()=>z.dU,FN:()=>z.FN,fF:()=>X.fF,E5:()=>X.E5,gY:()=>T,PM:()=>X.PM,zM:()=>X.zM,MS:()=>X.MS,FR:()=>X.FR,gl:()=>Q.gl,_G:()=>Q._G});var a=r(74848),n=r(52811),i=r(98386),l=r(38621),o=r(23134),s=r(55847),c=r(73451),d=r(45286),u=r(6869),m=r(2724),v=r(34164),g=r(96540);let h={instructions:e=>`Moving ${e}.`,firstItemInList:"First item in list.",lastItemInList:"Last item in list.",movedBetween:(e,t)=>`Between ${e} and ${t}.`,movePosition:"Move item one position",cancelDrag:"Cancel drag mode",endDrag:"Place item",cancelMove:e=>`Cancel moving ${e}`,cancelMoveMultiple:(e,t)=>`Cancel moving ${e} and ${t} other items`,successfulFirstMove:e=>`${e} successfully moved to first item in list.`,successfulLastMove:e=>`${e} successfully moved to last item in list.`,successfulMove:(e,t,r)=>`${e} successfully moved between ${t} and ${r}.`,successfulNoMove:e=>`${e} did not move.`,entryLessThanOne:"Entry must be greater than 0.",entryGreaterThanList:e=>`Entry must be less than or equal to ${e}.`,entryIsRequired:"Entry is required.",entryIsInvalid:"Entry is invalid."},f={itemWillNotBeMoved:e=>`${e} will not be moved.`,movedToFirst:e=>`${e} will be first item in the list.`,movedToLast:e=>`${e} will be last item in the list.`,movedBetween:(e,t,r)=>`${e} will be between ${t} and ${r}.`},b={dialogBody:"MoveDialog-module__dialogBody--LAeHh",form:"MoveDialog-module__form--cmYU8",title:"MoveDialog-module__title--lCiJF",dialogTitle:"MoveDialog-module__dialogTitle--DMkkn"};var p=r(47347),x=r(2922),y=r(9591);let j={form:"MoveDialogForm-module__form--uULos",datePickerAnchor:"MoveDialogForm-module__datePickerAnchor--CXHl5"},S=(0,g.createContext)({formLabel:"",onChange:()=>{}});function M(e){let{formProps:t,setIsInvalidOption:r,setHelperText:n,helperTextId:i}=e,{actions:l,onActionChange:o,actionsLabel:s}=t,[d,u]=(0,g.useState)(l[0]?.value),m=(0,g.useCallback)(e=>{o?.(e);let t=l.find(t=>t.value===e.target.value);t&&u(t.value)},[l,o]);return(0,a.jsx)(S.Provider,{value:(0,g.useMemo)(()=>({formLabel:d??"",onChange:(e,t)=>{n(e),r(t)},helperTextId:i}),[d,n,i,r]),children:(0,a.jsxs)("div",{className:(0,v.$)(j.form),children:[l.length>1&&(0,a.jsxs)(c.A,{required:!0,children:[(0,a.jsx)(c.A.Label,{children:s??"Action"}),(0,a.jsx)(x.A,{block:!0,onChange:m,children:l.map(e=>(0,a.jsx)(x.A.Option,{value:e.value,children:e.value},e.value))})]}),l.find(e=>e.value===d)?.renderInput]})})}let N=g.forwardRef((e,t)=>{let{helperText:r,isInvalid:n,...i}=e,{formLabel:l,onChange:o,helperTextId:s}=(0,g.useContext)(S);return(0,g.useEffect)(()=>{o(r??"",!!n)},[r,n,o]),(0,a.jsxs)(c.A,{required:!0,children:[(0,a.jsx)(c.A.Label,{children:l}),(0,a.jsx)(x.A,{block:!0,"aria-invalid":n,validationStatus:n?"error":void 0,"aria-describedby":s,ref:t,...i})]})});N.displayName="MoveDialogForm.SingleSelect";let C=g.forwardRef((e,t)=>{let{isInvalid:r,helperText:n,...i}=e,{formLabel:l,onChange:o,helperTextId:s}=(0,g.useContext)(S);return(0,g.useEffect)(()=>{o(n,!!r)},[n,r,o]),(0,a.jsxs)(c.A,{required:!0,children:[(0,a.jsx)(c.A.Label,{children:l}),(0,a.jsx)(y.A,{block:!0,"aria-invalid":r,validationStatus:r?"error":void 0,"aria-describedby":s,ref:t,...i})]})});function I(e){let{isInvalid:t,helperText:r,...n}=e,{formLabel:i,onChange:o}=(0,g.useContext)(S);(0,g.useEffect)(()=>{o(r,!!t)},[r,t,o]);let u={...n,renderAnchor:e=>{let{children:t,...r}=e;return(0,a.jsx)(s.Q,{trailingAction:l.TriangleDownIcon,block:!0,...r,children:t})}};return(0,a.jsxs)(c.A,{required:!0,children:[(0,a.jsx)(c.A.Label,{children:i}),(0,a.jsx)(d.X,{...u})]})}function w(e){let{isInvalid:t,helperText:r,...n}=e,{formLabel:i,onChange:l,helperTextId:o}=(0,g.useContext)(S),s={anchor:"button",anchorClassName:j.datePickerAnchor,compressedHeader:!1,confirmation:!1,confirmUnsavedClose:!0,dateFormat:"long",placeholder:i,showTodayButton:!0,showClearButton:!1,variant:"single",weekStartsOn:"Sunday"};(0,g.useEffect)(()=>{l(r,!!t)},[r,t,l]);let d={...s,...n};return(0,a.jsxs)(c.A,{required:!0,children:[(0,a.jsx)(c.A.Label,{children:i}),(0,a.jsx)(p.DatePicker,{...d,"aria-describedby":o,fieldName:i})]})}C.displayName="MoveDialogForm.Text",M.SingleSelect=N,M.Text=C,M.MultiSelect=I,M.Date=w,M.SingleSelectOption=x.A.Option;try{M.displayName||(M.displayName="MoveDialogForm")}catch{}try{I.displayName||(I.displayName="MultiSelect")}catch{}try{w.displayName||(w.displayName="DateInput")}catch{}let D="move-dialog-title",_=({closeDialog:e,onSubmit:t,formProps:r,title:f,submitButtonLabel:p,returnFocusRef:x,...y})=>{let j,S,[N,C]=(0,g.useState)(!1),[I,w]=(0,g.useState)(!1),_="";y.multiSelectItems?j=y.selectPanelProps.selected[0]:_=y.selectedItem.value;let[E,T]=(0,g.useState)(""),A=(0,g.useId)(),L=(0,g.useRef)(null);(0,o.g)({containerRef:L,onClickOutside:e=>e.preventDefault()});let k=async e=>{if(e.preventDefault(),N){let e=L.current?.querySelector('[aria-invalid="true"]');e&&e.focus();return}await t?.(e)};return y.multiSelectItems&&(S={...y.selectPanelProps,selected:y.selectPanelProps.selected,onSelectedChange:e=>{y.multiSelectItems&&(e[0]!==j?w(!0):y.selectPanelProps.onSelectedChange?.(e))},renderAnchor:e=>{let{children:t,...r}=e;return(0,a.jsx)(s.Q,{trailingAction:l.TriangleDownIcon,block:!0,...r,children:t})}}),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.l,{title:(0,a.jsx)("span",{className:(0,v.$)(b.title),id:D,...(0,i.G)(D),children:f??(y.multiSelectItems?"Move selected items":"Move selected item")}),onClose:()=>{if(e(),y.multiSelectItems){let e=y.selectPanelProps.selected;(0,n.i)(h.cancelMoveMultiple(e[0]?.text??"",e?.length??0),{assertive:!0})}else(0,n.i)(h.cancelMove(_),{assertive:!0})},width:"large",ref:L,renderBody:()=>(0,a.jsxs)("form",{onSubmit:k,...(0,i.G)("move-dialog-form"),onBlur:e=>e.stopPropagation(),className:(0,v.$)(b.form),noValidate:!0,"aria-labelledby":D,children:[(0,a.jsxs)(m.l.Body,{className:(0,v.$)(b.dialogBody),children:[(0,a.jsx)("div",{className:(0,v.$)(b.dialogTitle),children:y.multiSelectItems?(0,a.jsxs)(c.A,{required:!0,children:[(0,a.jsx)(c.A.Label,{requiredIndicator:!1,children:"Item(s)"}),(0,a.jsx)(d.X,{...S})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"text-bold pb-1",children:"Item"}),(0,a.jsx)("span",{children:_})]})}),(0,a.jsx)(M,{formProps:r,setHelperText:T,setIsInvalidOption:C,helperTextId:A}),(0,a.jsxs)(u.A,{"aria-live":"assertive",variant:N?"danger":"default",id:A,...(0,i.G)("drag-and-drop-move-dialog-flash"),children:[N?(0,a.jsx)(l.AlertIcon,{}):(0,a.jsx)(l.InfoIcon,{}),E]})]}),(0,a.jsx)(m.l.Footer,{className:"p-2",children:(0,a.jsx)(s.Q,{type:"submit",variant:"primary",...(0,i.G)("drag-and-drop-move-dialog-move-item-button"),children:p??"Move"})})]}),returnFocusRef:x}),I&&(0,a.jsxs)(m.l,{width:"large",title:"Missing selection",onClose:()=>{y.multiSelectItems&&w(!1)},children:[(0,a.jsx)(m.l.Body,{className:(0,v.$)(b.dialogBody),children:"The first item you selected cannot be deselected when performing a move."}),(0,a.jsx)(m.l.Footer,{className:"p-2",children:(0,a.jsx)(s.Q,{type:"submit",variant:"primary",onClick:()=>{y.multiSelectItems&&w(!1)},children:"I understand"})})]})]})};try{_.displayName||(_.displayName="MoveDialog")}catch{}let E=(0,g.createContext)(null),T=()=>{let e=(0,g.useContext)(E);if(!e)throw Error("useDragAndDrop can only be accessed from a DragAndDropContext.Provider component");let{overId:t,dragIndex:r,moveToPosition:a,items:n,direction:i,moveDialogItem:l,openMoveDialog:o,isInDragMode:s}=e;return{isDropTarget:(0,g.useCallback)(e=>t===e||null,[t]),isBefore:e=>null!==r&&e<r,moveToPosition:a,items:n,direction:i,moveDialogItem:l,openMoveDialog:o,isInDragMode:s}},A=(0,g.createContext)({title:"",index:0,id:""}),L=()=>{let e=(0,g.useContext)(A);if(!e)throw Error("useSortableItem must be used within a SortableItemContextProvider");return e},k=g.forwardRef(({Component:e,returnFocusRef:t,...r},n)=>{let{title:i,index:l}=L(),{items:o,openMoveDialog:s}=T(),c=(0,g.useCallback)(()=>{s(i,l,t??n)},[s,i,l,t,n]);return 1===o.length?null:(0,a.jsx)(e,{ref:n,...r,onClick:c,onSelect:c})});k.displayName="MoveDialogTrigger";var F=r(44263),$=r(70170);let O={BEFORE:"Move item before",AFTER:"Move item after",ROW:"Move to position"},R=()=>"",P=(0,$.s)(e=>{(0,n.i)(e,{assertive:!0})},100),B={onDragStart:R,onDragOver:R,onDragMove:R,onDragEnd:R,onDragCancel:R};function G({equalMessage:e,firstPositionMessage:t,lastPositionMessage:r,betweenBeforeMessage:a,betweenAfterMessage:n,newIndex:i,currentIndex:l,items:o,moveAction:s}){if(i===l)return e;if(0===i&&s!==O.AFTER)return t;if(i===o.length-1&&s!==O.BEFORE)return r;switch(s){case O.BEFORE:return a;case O.AFTER:return n;case O.ROW:if(i<l)return a;return n}}let K=(e,t)=>e!==t+1&&e!==t,q=(e,t)=>e!==t-1&&e!==t,H=(e,t)=>void 0===t?h.entryIsRequired:t<0?h.entryLessThanOne:t>e.length?h.entryGreaterThanList(e.length):h.entryIsInvalid,U=(e,t)=>void 0===t||t<0||t>=e.length||isNaN(t),W=({closeDialog:e,dialogTitle:t,returnFocusRef:r})=>{let l=(0,g.useRef)(null),{moveDialogItem:o,moveToPosition:s,items:c}=T(),{title:d,index:u}=o??{title:"",index:-1},[m,v]=(0,g.useState)(!1),[b,p]=(0,g.useState)(),[y,j]=(0,g.useState)(c.some((e,t)=>K(t,u))?O.BEFORE:c.some((e,t)=>q(t,u))?O.AFTER:O.ROW),[S,N]=(0,g.useState)(""),C=(0,g.useMemo)(()=>e=>{let t="";if(void 0===e||U(c,e))t=H(c,e);else{let r=c[e-1]?.title,a=c[e+1]?.title;t=G({equalMessage:f.itemWillNotBeMoved(d),firstPositionMessage:f.movedToFirst(d),lastPositionMessage:f.movedToLast(d),betweenBeforeMessage:f.movedBetween(d,r,c[e]?.title),betweenAfterMessage:f.movedBetween(d,c[e]?.title,a),newIndex:e,currentIndex:u,items:c,moveAction:y})}N(t)},[d,u,y,c]),I=(0,F.d)(C,100);(0,g.useEffect)(()=>{if(l.current?.value){let e=y===O.ROW?-1:0,t=parseInt(l.current?.value,10)+e;p(isNaN(t)?void 0:t),I(isNaN(t)?void 0:t)}},[I,l,y]);let w=async()=>{if(void 0!==b){switch(y){case O.ROW:b>=u?await s(u,b,!1):await s(u,b,!0);break;case O.BEFORE:await s(u,b,!0);break;case O.AFTER:default:await s(u,b,!1)}e(),function({newIndex:e,items:t,title:r,...a}){let i=t[e-1]?.title,l=t[e+1]?.title,o=G({equalMessage:h.successfulNoMove(r),firstPositionMessage:h.successfulFirstMove(r),lastPositionMessage:h.successfulLastMove(r),betweenBeforeMessage:h.successfulMove(r,i,t[e]?.title),betweenAfterMessage:h.successfulMove(r,t[e]?.title,l),newIndex:e,items:t,...a});(0,n.i)(o,{assertive:!0})}({newIndex:b,currentIndex:u,items:c,title:d,moveAction:y})}},D=e=>{U(c,e)?v(!0):v(!1),p(e&&isNaN(e)?void 0:e),I(e)};return(0,a.jsx)(_,{closeDialog:e,title:t,formProps:{actions:[...c.some((e,t)=>K(t,u))?[{value:O.BEFORE,renderInput:(0,a.jsx)(M.SingleSelect,{ref:y===O.BEFORE?l:void 0,helperText:S,onChange:e=>{D(Number(e.currentTarget.value))},isInvalid:!1,...(0,i.G)("drag-and-drop-move-dialog-position-input"),children:c.map((e,t)=>{if(K(t,u))return(0,a.jsx)(x.A.Option,{value:t.toString(),children:e.title},`${e.title}-${t+1}`)})})}]:[],...c.some((e,t)=>q(t,u))?[{value:O.AFTER,renderInput:(0,a.jsx)(M.SingleSelect,{ref:y===O.AFTER?l:void 0,helperText:S,onChange:e=>{D(Number(e.currentTarget.value))},isInvalid:!1,...(0,i.G)("drag-and-drop-move-dialog-position-input"),children:c.map((e,t)=>{if(q(t,u))return(0,a.jsx)(x.A.Option,{value:t.toString(),children:e.title},`${e.title}-${t+1}`)})})}]:[],{value:O.ROW,renderInput:(0,a.jsx)(M.Text,{ref:y===O.ROW?l:void 0,helperText:S,min:1,max:c.length,defaultValue:u+1,type:"number",onChange:e=>{D(e.currentTarget.value?parseInt(e.currentTarget.value,10)-1:void 0)},isInvalid:m,...(0,i.G)("drag-and-drop-move-dialog-position-input")})}],onActionChange:e=>{j(e.target.value),v(!1)}},selectedItem:{value:d},onSubmit:w,returnFocusRef:r})};try{W.displayName||(W.displayName="SortableMoveDialog")}catch{}var X=r(26239),z=r(18831),Q=r(43627),J=r(27851),V=r(96679),Y=r(80663),Z=r(52243),ee=r(28835),et=r(40961);function er(e,t){let r=(0,g.useRef)(!1);(0,g.useEffect)(()=>(t?(document.body.classList.add(e),r.current=!0):(r.current&&document.body.classList.remove(e),r.current=!1),()=>{r.current&&document.body.classList.remove(e),r.current=!1}),[e,t])}let ea=(0,g.createContext)(void 0);try{ea.displayName||(ea.displayName="RootElementContext")}catch{}let en={start:[X.vL.Space,X.vL.Enter],cancel:[X.vL.Esc],end:[X.vL.Space,X.vL.Enter]};z.FN,z.Mk;let CustomKeyboardSensor=class CustomKeyboardSensor extends X.uN{};!function(e,t,r){t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r}(CustomKeyboardSensor,"activators",[{eventName:"onKeyDown",handler:(e,{keyboardCodes:t=en,onActivation:r},{active:a})=>{let{code:n}=e.nativeEvent;if(t.start.includes(n)){let t=a.activatorNode.current;return(!t||e.target===t)&&(e.preventDefault(),r?.({event:e.nativeEvent}),!0)}return!1}},{eventName:"onClick",handler:(e,{onActivation:t})=>{e.preventDefault();let r=new KeyboardEvent("keydown",{key:"Enter",code:"Enter"});return t?.({event:r}),!0}}]);let ei=({collisionRect:e,droppableRects:t,droppableContainers:r})=>{let a=(e.top+e.bottom)/2,n=[];for(let e of r){let{id:r}=e,i=t.get(r);if(i){let t=Math.abs(a-(i.top+i.bottom)/2);n.push({id:r,data:{droppableContainer:e,value:t}})}}return n.sort((e,t)=>e.data.value-t.data.value)};var el=r(65607),eo=r(96339);let es={instructionContainer:"KeyboardSpecificInstructionsDialog-module__instructionContainer--mMMA3",instruction:"KeyboardSpecificInstructionsDialog-module__instruction--cVFch",footerContainer:"KeyboardSpecificInstructionsDialog-module__footerContainer--G_jqi",footerForm:"KeyboardSpecificInstructionsDialog-module__footerForm--ifodW",footerButton:"KeyboardSpecificInstructionsDialog-module__footerButton--JEK34"},ec="hideKeyboardSpecificInstructions",ed=({onClose:e})=>{let[t,r]=(0,ee.M)(ec,!1);return(0,a.jsxs)("div",{className:(0,v.$)(es.footerContainer),children:[(0,a.jsx)("div",{className:(0,v.$)(es.footerForm),children:(0,a.jsxs)(c.A,{children:[(0,a.jsx)(el.A,{checked:t,onChange:()=>r(!t)}),(0,a.jsx)(c.A.Label,{children:"Don't show this again"})]})}),(0,a.jsx)("div",{className:(0,v.$)(es.footerButton),children:(0,a.jsx)(s.Q,{onClick:e,children:"Close"})})]})},eu=({isOpen:e,onClose:t,direction:r,keyboardCodes:n=en})=>e?(0,a.jsx)("div",{onKeyDown:e=>{e.stopPropagation(),"Escape"===e.code&&t()},children:(0,a.jsx)(m.l,{title:"How to move objects via keyboard",subtitle:"This navigation is only available when move mode is activated.",onClose:t,renderFooter:()=>(0,a.jsx)(m.l.Footer,{className:"d-flex",children:(0,a.jsx)(ed,{onClose:t})}),children:(0,a.jsxs)("table",{className:(0,v.$)(es.instructionContainer),children:[(0,a.jsx)("thead",{className:"sr-only",children:(0,a.jsxs)("tr",{children:[(0,a.jsx)("th",{className:"text=bold",children:"Action"}),(0,a.jsx)("th",{className:"text=bold",children:"Keyboard Shortcut"})]})}),(0,a.jsxs)("tbody",{children:[(0,a.jsxs)("tr",{className:(0,v.$)(es.instruction),children:[(0,a.jsx)("td",{children:h.cancelDrag}),(0,a.jsx)("td",{children:n.cancel.map((e,t)=>(0,a.jsxs)(g.Fragment,{children:[t>0&&(0,a.jsx)("span",{children:" / "}),(0,a.jsx)(eo.U,{keys:e})]},e))})]}),(0,a.jsxs)("tr",{className:(0,v.$)(es.instruction),children:[(0,a.jsx)("td",{children:h.movePosition}),(0,a.jsxs)("td",{children:[(0,a.jsx)(eo.U,{keys:"vertical"===r?"up":"left"}),(0,a.jsx)("span",{children:" / "}),(0,a.jsx)(eo.U,{keys:"vertical"===r?"down":"right"})]})]}),(0,a.jsxs)("tr",{className:(0,v.$)(es.instruction,"border-bottom-0"),children:[(0,a.jsx)("td",{children:h.endDrag}),(0,a.jsx)("td",{children:n.end.map((e,t)=>(0,a.jsxs)(g.Fragment,{children:[t>0&&(0,a.jsx)("span",{children:" / "}),(0,a.jsx)("kbd",{className:"bgColor-default box-shadow-none fgColor-muted",children:e.toLowerCase()})]},e))})]})]})]})})}):null;try{ed.displayName||(ed.displayName="KeyboardSpecificInstructionsFooter")}catch{}try{eu.displayName||(eu.displayName="KeyboardSpecificInstructionsDialog")}catch{}let em={isKeyboardDragging:"SortableListContainer-module__isKeyboardDragging--rQZ0q",container:"SortableListContainer-module__container--MDMg5"},ev=({onDrop:e,items:t,direction:r="vertical",children:l,as:o="ul",renderOverlay:s,keyboardCodes:c,enableTouch:d=!1,...u},m)=>{let[f,b]=(0,g.useState)(!1),[p,x]=(0,g.useState)(0),[y,j]=(0,g.useState)(!1),[S,M]=(0,g.useState)(0),[N,C]=(0,g.useState)(null),[I,w]=(0,g.useState)(!1),[D]=(0,ee.M)(ec,!1),[_,T]=(0,g.useState)(!1),[A,L]=(0,g.useState)(null),k=t.map(e=>e.id),F=(0,g.useMemo)(()=>t.reduce((e,t)=>(e[t.id]=t.title,e),{}),[t]);er("is-dragging",f),er(em.isKeyboardDragging??"",_);let[$,O]=(0,g.useState)(null),R=(0,Z.j)(),G=(0,g.useCallback)(()=>{w(!1)},[]),K=(0,g.useCallback)(e=>{if(!e.active)return;(0,n.i)(h.instructions(F[e.active.id]??e.active.id),{assertive:!0});let t=e.active.data.current?.metadata;C(t?.id??null),M(e.active.data.current?.sortable.index??0),x(e.active.data.current?.sortable.index??0),b(!0)},[F]),q=(0,g.useCallback)(e=>{let t=e.over?.data.current?.metadata;C(t?.id??null),y||j(!0),e.over&&e.over.data.current&&x(e.over.data.current.sortable.index)},[y]);(0,g.useEffect)(()=>{if(f&&y)if(0===p)P(h.firstItemInList);else if(p===k.length-1)P(h.lastItemInList);else{let e=p<=S,t=p===S,r=e?k[p-1]:k[p+1],a=t?k[p+1]:k[p];P(h.movedBetween(F[r],F[a]))}},[f,y,p,F,k,S]);let H=(0,g.useCallback)(e=>{(0,n.i)(`${F[e.active.id]??e.active.id} not moved.`,{assertive:!0}),b(!1),T(!1),j(!1),setTimeout(()=>{document.activeElement?.scrollIntoView({behavior:R?"instant":"smooth",block:"nearest"})},1)},[F,R]),U=(0,g.useCallback)(r=>{if(b(!1),T(!1),j(!1),!r.active||!r.over)return;let a=r.active.data.current?.metadata,i=r.over.data.current?.metadata;a?.id!==i?.id&&e({dragMetadata:a,dropMetadata:i,isBefore:p<S}),C(null),function({newIndex:e,currentIndex:t,items:r,title:a}){let i=r.map(e=>e.id);if(e===t)(0,n.i)(h.successfulNoMove(a),{assertive:!0});else if(0===e)(0,n.i)(h.successfulFirstMove(a),{assertive:!0});else if(e===r.length-1)(0,n.i)(h.successfulLastMove(a),{assertive:!0});else{let l=e<=t?i[e-1]:i[e+1],o=i[e],s=r.find(e=>e.id===l)?.title??"",c=r.find(e=>e.id===o)?.title??"";(0,n.i)(h.successfulMove(a,s,c),{assertive:!0})}}({newIndex:p,currentIndex:S,items:t,title:F[r.active.id]})},[p,S,t,F,e]),en=(0,g.useCallback)((t,r,a)=>{C(k[r]??null);let n=k[t],i=k[r];n&&i&&e({dragMetadata:{id:n},dropMetadata:{id:i},isBefore:a??r<t})},[k,e]),el=(0,g.useContext)(ea),eo=(0,g.useMemo)(()=>()=>{y||D||w(!0),T(!0)},[D,y]),es=(0,g.useCallback)((e,t,r)=>{L({title:e,index:t,returnFocusRef:r})},[]),ed=(0,g.useCallback)(()=>{L(null),O(A?.returnFocusRef?.current??null)},[A]),ev=(0,J.G7)("dnd_touch_enabled"),eg=(0,X.MS)(X.IG),eh=(0,X.MS)(X.cA),ef=(0,X.MS)(CustomKeyboardSensor,{coordinateGetter:Q.JR,keyboardCodes:c,onActivation:eo}),eb=(0,g.useMemo)(()=>ev&&d?[eh,eg,ef]:[eh,ef],[ev,d,eh,eg,ef]),ep=(0,X.FR)(...eb);(0,g.useEffect)(()=>{$?.focus(),O(null)},[$]);let ex=t[S],[ey]=(0,Y.I)(()=>document.body,null,[V.XC?.body]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(eu,{isOpen:I,onClose:G,direction:r,keyboardCodes:c}),(0,a.jsx)(X.Mp,{collisionDetection:(0,g.useMemo)(()=>"horizontal"===r?X.y$:ei,[r]),modifiers:(0,g.useMemo)(()=>"horizontal"===r?[z.dU]:[z.FN],[r]),sensors:ep,onDragStart:K,onDragOver:q,onDragEnd:U,onDragCancel:H,accessibility:(0,g.useMemo)(()=>({container:el,announcements:B}),[el]),children:(0,a.jsx)(Q.gB,{items:k,strategy:(0,g.useMemo)(()=>"horizontal"===r?Q.m$:Q._G,[r]),children:(0,a.jsxs)(E.Provider,{value:(0,g.useMemo)(()=>({overId:N,dragIndex:S,moveToPosition:en,items:t,direction:r,openMoveDialog:es,moveDialogItem:A,isInDragMode:f&&!I}),[N,S,en,t,r,es,A,f,I]),children:[A&&(0,a.jsx)(W,{closeDialog:ed}),(0,a.jsx)(o,{...u,ref:m,className:(0,v.$)(em.container,u.className),...(0,i.G)("sortable-list"),onKeyDown:e=>{f&&"Tab"===e.code&&e.preventDefault()},children:l}),ey?(0,et.createPortal)((0,a.jsx)(X.Hd,{dropAnimation:null,className:(0,v.$)(em.container),children:ex&&!I?s(ex,S):null}),ey):null]})})})]})},eg=(0,g.forwardRef)(ev);try{ev.displayName||(ev.displayName="SortableListContainerInner")}catch{}try{eg.displayName||(eg.displayName="SortableListContainer")}catch{}let eh={dragItem:"SortableListItem-module__dragItem--QbM4N",vertical:"SortableListItem-module__vertical--gKirP",horizontal:"SortableListItem-module__horizontal--Q4fny",contents:"SortableListItem-module__contents--YiGyX",dragOverlay:"SortableListItem-module__dragOverlay--pXiBk"};var ef=r(15177),eb=r(64515),ep=r(87330);let ex={trigger:"SortableListTrigger-module__trigger--CqPGy",hideDragHandler:"SortableListTrigger-module__hideDragHandler--BfnWH",mouseTrigger:"SortableListTrigger-module__mouseTrigger--ADZ9c",buttonTrigger:"SortableListTrigger-module__buttonTrigger--yFfXl",touchEnabled:"SortableListTrigger-module__touchEnabled--EgQDy"},ey=(0,g.forwardRef)(function(e,t){let{title:r,id:n}=L(),{setActivatorNodeRef:o,listeners:s,isDragging:c,items:d}=(0,Q.gl)({id:n,data:{metadata:{id:n}}}),{isTouchDevice:u}=(0,ef.k)(),m=(0,J.G7)("dnd_no_touch_device_check"),h=(0,J.G7)("dnd_touch_enabled"),f=(0,g.useRef)(null);(0,eb.T)(t,f);let{onMouseDown:b,onClick:p,onKeyDown:x,onTouchStart:y}=s;return(0,a.jsxs)("div",{...(0,i.G)("sortable-trigger-container"),className:(0,v.$)(ex.trigger,(1===d.length||!m&&!h&&u)&&ex.hideDragHandler,h&&ex.touchEnabled),children:[(0,a.jsx)("div",{onMouseDown:b,onTouchStart:y,className:(0,v.$)(ex.mouseTrigger),...(0,i.G)("sortable-mouse-trigger")}),(0,a.jsx)(ep.K,{className:ex.buttonTrigger,"aria-label":`Move ${r}`,ref:e=>{f.current=e,o(e)},onKeyDown:x,onClick:p,variant:"invisible",role:c?"application":"button",icon:l.GrabberIcon,size:"large",...e,...(0,i.G)("sortable-trigger")})]})});try{ey.displayName||(ey.displayName="SortableListTrigger")}catch{}let ej=({children:e,id:t,index:r,title:n,containerStyle:l,style:o,hideSortableItemTrigger:s,isDragOverlay:c=!1,role:d,as:u="li",itemClassName:m,elementId:h,...f})=>{let b=(0,Z.j)(),{setNodeRef:p,isDragging:x,transform:y,transition:j}=(0,Q.gl)({id:t,data:{metadata:{id:t}}}),{direction:S,isInDragMode:M}=T(),N=(0,v.$)("position-relative",f.className,M&&{[eh.dragItem]:x,[eh.horizontal]:"horizontal"===S,[eh.vertical]:"vertical"===S}),C={transform:y?`
        translateX(${Math.round(y.x)}px)
        translateY(${Math.round(y.y)}px)
        scaleX(${y.scaleX})
        scaleY(${y.scaleY})
      `:"none",transition:b?"none":j};return(0,a.jsx)(A.Provider,{value:(0,g.useMemo)(()=>({index:r,title:n,id:t}),[r,t,n]),children:(0,a.jsx)(c?"div":u,{...f,...(0,i.G)(c?"drag-overlay":"sortable-item"),className:N,style:{...c?{}:l,...C},ref:p,id:h,children:(0,a.jsxs)("div",{style:o,className:(0,v.$)("position-relative",m,M&&eh.contents,c&&eh.dragOverlay),role:d,children:[!s&&(0,a.jsx)(ey,{}),e]})})})};try{ej.displayName||(ej.displayName="SortableListItem")}catch{}let eS=Object.assign(eg,{Item:ej,DragTrigger:ey,MoveDialog:_,MoveDialogForm:M,MoveDialogTrigger:k,SortableMoveDialog:W});try{eS.displayName||(eS.displayName="DragAndDrop")}catch{}r(74979)},38007:(e,t,r)=>{let a;r.d(t,{BI:()=>g,Ti:()=>h,lA:()=>m,sX:()=>v});var n=r(70837),i=r(18679),l=r(85351),o=r(7479);let{getItem:s}=(0,l.A)("localStorage"),c="dimension_",d=["utm_source","utm_medium","utm_campaign","utm_term","utm_content","scid"];try{let e=(0,n.O)("octolytics");delete e.baseContext,a=new i.s(e)}catch{}function u(e){let t=(0,n.O)("octolytics").baseContext||{};if(t)for(let[e,r]of(delete t.app_id,delete t.event_url,delete t.host,Object.entries(t)))e.startsWith(c)&&(t[e.replace(c,"")]=r,delete t[e]);let r=document.querySelector("meta[name=visitor-payload]");for(let[e,a]of(r&&Object.assign(t,JSON.parse(atob(r.content))),new URLSearchParams(window.location.search)))d.includes(e.toLowerCase())&&(t[e]=a);return t.staff=(0,o.X)().toString(),Object.assign(t,e)}function m(e){a?.sendPageView(u(e))}function v(){return document.head?.querySelector('meta[name="current-catalog-service"]')?.content}function g(e,t={}){let r=v(),n=r?{service:r}:{};for(let[e,r]of Object.entries(t))null!=r&&(n[e]=`${r}`);a&&(u(n),a.sendEvent(e||"unknown",u(n)))}function h(e){return Object.fromEntries(Object.entries(e).map(([e,t])=>[e,JSON.stringify(t)]))}},80663:(e,t,r)=>{r.d(t,{I:()=>l});var a=r(96540),n=r(17515),i=r(60674);function l(e,t,r=[]){let o=(0,a.useCallback)(e,r),s=(0,i.BP)(),c=(0,a.useRef)(s===i.O8.ClientRender),[d,u]=(0,a.useState)(()=>s===i.O8.ClientRender?o():t),m=(0,a.useCallback)(()=>{u(o)},[o]);return(0,n.N)(()=>{c.current||u(o),c.current=!1},[o,...r]),[d,m]}},44263:(e,t,r)=>{r.d(t,{d:()=>l});var a=r(90851),n=r(23125),i=r(96540);let l=(e,t,{leading:r=!1,maxWait:l,trailing:o=!0,onChangeBehavior:s="flush"}={})=>{let c=(0,a.M)(e),d=(0,i.useMemo)(()=>{let e=void 0===l?{leading:r,trailing:o}:{leading:r,trailing:o,maxWait:l};return(0,n.A)((...e)=>c.current(...e),t,e)},[c,t,r,l,o]);return(0,i.useEffect)(()=>()=>{d?.[s]()},[d,s]),d}},52243:(e,t,r)=>{let a;r.d(t,{j:()=>c});var n=r(96540);function i(){return a||(a=window.matchMedia("(prefers-reduced-motion: reduce)"))}function l(){return!1}function o(){return i().matches}function s(e){let t=i();return t.addEventListener("change",e),()=>{t.removeEventListener("change",e)}}function c(){return(0,n.useSyncExternalStore)(s,o,l)}},28835:(e,t,r)=>{r.d(t,{M:()=>c,s:()=>d});var a=r(85351),n=r(96540);function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}let l=(0,a.A)("localStorage"),o="local-storage-update",s=class UseLocalStorageUpdateEvent extends Event{constructor(e,t){super(o),i(this,"storageKey",void 0),i(this,"storageValue",void 0),this.storageKey=e,this.storageValue=t}};function c(e,t){let r=(0,n.useRef)(t);(0,n.useEffect)(()=>{r.current=t});let[a,i]=(0,n.useState)(()=>{let t=l.getItem(e);return t?JSON.parse(t):r.current}),c=(0,n.useCallback)(t=>{i(t??r.current),void 0===t?l.removeItem(e):l.setItem(e,JSON.stringify(t)),document.dispatchEvent(new s(e,t))},[e]);return(0,n.useEffect)(()=>{function t(t){t.storageKey===e&&i(t.storageValue??r.current)}document.addEventListener(o,t);let a=l.getItem(e);return a?i(JSON.parse(a)):i(r.current),()=>{document.removeEventListener(o,t)}},[e]),[a,c]}function d(e){for(let t of e)l.removeItem(t),document.dispatchEvent(new s(t,void 0))}},15177:(e,t,r)=>{r.d(t,{k:()=>s});var a=r(96540),n=r(46996),i=r(96679),l=r(80663);let o=e=>({height:e.clientHeight,isLandscape:window.matchMedia("(orientation: landscape)").matches,isTouchDevice:"ontouchstart"in window||navigator.maxTouchPoints>0,pixelDensity:window.devicePixelRatio,width:e.clientWidth});function s(){let[e]=(0,l.I)(()=>document.documentElement,null,[i.XC?.documentElement]),t=(0,a.useRef)({}),r=(0,a.useCallback)(t=>{if(!e)return()=>void 0;let r=new ResizeObserver(t);return r.observe(e),()=>{r.unobserve(e),r.disconnect()}},[e]);return(0,a.useSyncExternalStore)(r,()=>{if(!e)return t.current;let r=o(e);return(0,n.A)(r,t.current)?t.current:(t.current=r,r)},()=>t.current)}}}]);
//# sourceMappingURL=ui_packages_drag-and-drop_drag-and-drop_ts-ui_packages_hydro-analytics_hydro-analytics_ts-bd2c9c0b5d58.js.map